{
	"tests": {
		"get_data_set_files": {"function_input":"0981274b-61e3-4efb-99f2-eaea57075612"},
		"create_file_dict": {"function_input":"0981274b-61e3-4efb-99f2-eaea57075612"},
		"get_snapshot_info": {"function_input":"f65019f3-075e-4a7b-b46f-5f2975787356"},
		"check_if_dataset_exists": {
			"function_input":{
				"dataset_name": "ops_integration_test_dataset",
				"billing_profile":"ce149ca7-608b-4d5d-9612-2a43a7378885"
				}
			},
		"get_dataset_info": {"function_input":"0981274b-61e3-4efb-99f2-eaea57075612"},
		"get_table_schema_info": {
			"function_input":{
				"dataset_id": "0981274b-61e3-4efb-99f2-eaea57075612",
				"table_name": "samples"
			}
		},
		"get_data_set_table_metrics": {
			"function_input":{
				"dataset_id": "0981274b-61e3-4efb-99f2-eaea57075612",
				"table_name": "samples"
			}
		},
		"get_data_set_sample_ids": {
			"function_input":{
				"dataset_id": "0981274b-61e3-4efb-99f2-eaea57075612",
				"table_name": "samples",
				"entity_id": "sample_id"
			}
		},
		"get_data_set_file_uuids_from_metadata": {
			"function_input":"0981274b-61e3-4efb-99f2-eaea57075612"
		},
		"get_files_from_snapshot": {"function_input":"f65019f3-075e-4a7b-b46f-5f2975787356"},
		"InferTDRSchema": {
			"function_input":{
				"input_metadata": [
					{
					  "reference_genome_build": "genome_build_name",
					  "sequencing_platform": "platform_name",
					  "alignment_method": "some_method_name",
					  "tissue_source": "tissue_source",
					  "sample_id": "71-9875723",
					  "sequencing_assay": "assay_name",
					  "individual_id": "49-8494787",
					  "data_processing_pipeline": "pipeline_name.34.7",
					  "cram": "/arbitrary/path.txt",
					  "analyte_type": "type_1",
					  "library_prep_kit_method": "prep-method-name",
					  "sequencing_strategy": "strategy_name",
					  "datarepo_row_id": "08688298-ccb2-40af-b45d-76d8f3eeb918"
					},
					{
					  "reference_genome_build": "genome_build_name",
					  "sequencing_platform": "platform_name",
					  "alignment_method": "some_method_name",
					  "tissue_source": "tissue_source",
					  "sample_id": "57-9012408",
					  "sequencing_assay": "assay_name",
					  "individual_id": "09-2790740",
					  "data_processing_pipeline": "pipeline_name.34.7",
					  "cram": "/arbitrary/path.txt",
					  "analyte_type": "type_1",
					  "library_prep_kit_method": "prep-method-name",
					  "sequencing_strategy": "strategy_name",
					  "datarepo_row_id": "26e2930f-7f78-4766-8128-8be82ed77e5c"
					},
					{
					  "reference_genome_build": "genome_build_name",
					  "sequencing_platform": "platform_name",
					  "alignment_method": "some_method_name",
					  "tissue_source": "tissue_source",
					  "sample_id": "75-4214702",
					  "sequencing_assay": "assay_name",
					  "individual_id": "93-7471455",
					  "data_processing_pipeline": "pipeline_name.34.7",
					  "cram": "/arbitrary/path.txt",
					  "analyte_type": "type_1",
					  "library_prep_kit_method": "prep-method-name",
					  "sequencing_strategy": "strategy_name",
					  "datarepo_row_id": "278b4ae3-c611-4da4-86a4-37623976ef0f"
					}],
				"table_name": "samples"
			}
		},

		"test_get_or_create_dataset": {
			"existing_dataset": {
				"function_input":{
					"dataset_name": "ops_integration_test_dataset",
					"billing_profile":"ce149ca7-608b-4d5d-9612-2a43a7378885",
					"schema":{
						"tables":[{
							"name":"samples",
							"columns":[
								{
									"name":"sample_id",
									"datatype": "string"
								},
								{
									"name":"individual_id",
									"datatype": "string"
								},
								{
									"name":"cram",
									"datatype": "string"
								},
								{
									"name":"alignment_method",
									"datatype": "string"
								},
								{
									"name":"analyte_type",
									"datatype": "string"
								},
								{
									"name":"data_processing_pipeline",
									"datatype": "string"
								},
								{
									"name":"library_prep_kit_method",
									"datatype": "string"
								},
								{
									"name":"reference_genome_build",
									"datatype": "string"
								},
								{
									"name":"sequencing_assay",
									"datatype": "string"
								},
								{
									"name":"sequencing_platform",
									"datatype": "string"
								},
								{
									"name":"sequencing_strategy",
									"datatype": "string"
								},
								{
									"name":"tissue_source",
									"datatype": "string"
								}
							]
						}]
					},
					"description": "",
					"cloud_platform": "gcp"
				}
			},
			"new_dataset": {
				"function_input":{
					"dataset_name": "tmp_ops_integration_test_dataset_to_delete",
					"billing_profile":"ce149ca7-608b-4d5d-9612-2a43a7378885",
					"schema":{
						"tables":[{
							"name":"samples",
							"columns":[
								{
									"name":"sample_id",
									"datatype": "string"
								},
								{
									"name":"individual_id",
									"datatype": "string"
								},
								{
									"name":"cram",
									"datatype": "string"
								},
								{
									"name":"alignment_method",
									"datatype": "string"
								},
								{
									"name":"analyte_type",
									"datatype": "string"
								},
								{
									"name":"data_processing_pipeline",
									"datatype": "string"
								},
								{
									"name":"library_prep_kit_method",
									"datatype": "string"
								},
								{
									"name":"reference_genome_build",
									"datatype": "string"
								},
								{
									"name":"sequencing_assay",
									"datatype": "string"
								},
								{
									"name":"sequencing_platform",
									"datatype": "string"
								},
								{
									"name":"sequencing_strategy",
									"datatype": "string"
								},
								{
									"name":"tissue_source",
									"datatype": "string"
								}
							]
						}]
					},
					"description": "",
					"cloud_platform": "gcp",
					"additional_properties": {
						"policies": {
							"stewards": [
								"samn@broadinstitute.org",
								"jscira@broadinstitute.org",
								"sahakian@broadinstitute.org"
							]
						}
					}
				}
			}
		},
		"test_add_user_to_dataset": {
			"function_input":{
				"dataset_id":"0981274b-61e3-4efb-99f2-eaea57075612",
				"user":"ops-integration-test-account@operations-portal-427515.iam.gserviceaccount.com",
				"policy":"steward"
			}
		},
		"test_batch_ingest":{
			"file_ingest":{
				"function_input":{
					"ingest_files": [
						{"sourcePath":"gs://tdr_test_resources/file001.bin", "targetPath": "/test_file_import/file001.bin"},
						{"sourcePath":"gs://tdr_test_resources/file002.bin", "targetPath": "/test_file_import/file002.bin"},
						{"sourcePath":"gs://tdr_test_resources/file003.bin", "targetPath": "/test_file_import/file003.bin"},
						{"sourcePath":"gs://tdr_test_resources/file004.bin", "targetPath": "/test_file_import/file004.bin"},
						{"sourcePath":"gs://tdr_test_resources/file005.bin", "targetPath": "/test_file_import/file005.bin"},
						{"sourcePath":"gs://tdr_test_resources/file006.bin", "targetPath": "/test_file_import/file006.bin"},
						{"sourcePath":"gs://tdr_test_resources/file007.bin", "targetPath": "/test_file_import/file007.bin"},
						{"sourcePath":"gs://tdr_test_resources/file008.bin", "targetPath": "/test_file_import/file008.bin"},
						{"sourcePath":"gs://tdr_test_resources/file009.bin", "targetPath": "/test_file_import/file009.bin"},
						{"sourcePath":"gs://tdr_test_resources/file010.bin", "targetPath": "/test_file_import/file010.bin"}
					],
					"profileId": "ce149ca7-608b-4d5d-9612-2a43a7378885",
					"dataset_id": "0981274b-61e3-4efb-99f2-eaea57075612",
					"load_tag": "integration_test_file_load"
				}
			},
			"metadata_ingest":{
				"function_input":{
					"ingest_metadata": [
						{"col_1":"ex_data_col_1_1", "col_2":"ex_data_col_2_1", "col_3":"ex_data_col_3_1"},
						{"col_1":"ex_data_col_1_2", "col_2":"ex_data_col_2_2", "col_3":"ex_data_col_3_2"},
						{"col_1":"ex_data_col_1_3", "col_2":"ex_data_col_2_3", "col_3":"ex_data_col_3_3"}
						],
					"target_table_name": "tmp_test_table",
					"dataset_name": "tmp_ops_integration_test_dataset_to_delete",
					"billing_profile":"ce149ca7-608b-4d5d-9612-2a43a7378885",
					"batch_size": 5,
					"bulk_mode": false,
					"cloud_type": "gcp"
				}
			}
		},
		"test_update_dataset_schema": {
			"function_input":{
				"dataset_name": "tmp_ops_integration_test_dataset_to_delete",
				"billing_profile": "ce149ca7-608b-4d5d-9612-2a43a7378885",
				"update_note": "integration test",
				"tables_to_add": [
					{
					"name": "tmp_test_table",
					"columns": [
					  		{
								"name": "col_1",
								"datatype": "string"
					 		 },
							  {
								"name": "col_2",
								"datatype": "string"
					 		 },
							  {
								"name": "col_3",
								"datatype": "string"
					 		 }
						]
					}
				]
			}
		},
		"test_delete_files": {
			"function_input":{
				"dataset_id":"0981274b-61e3-4efb-99f2-eaea57075612"
			}
		},
		"test_delete_dataset": {
			"function_input":{
				"dataset_name":"tmp_ops_integration_test_dataset_to_delete",
				"billing_profile": "ce149ca7-608b-4d5d-9612-2a43a7378885"
			}
		},
		"test_delete_snapshot": {
			"create_snapshot": {
				"function_input":{
					"name": "integration_test_snapshot",
					"description": "test snapshot",
					"contents": [
					  {
						"datasetName": "tmp_ops_integration_test_dataset_to_delete",
						"mode": "byFullView"
					  }
					],
					"profileId": "ce149ca7-608b-4d5d-9612-2a43a7378885"
				}
			},
			"delete_snapshot": {
				"function_input":
				{
					"dataset_name":"tmp_ops_integration_test_dataset_to_delete",
					"profileId": "ce149ca7-608b-4d5d-9612-2a43a7378885"
				}
			}
		}
	}
}
